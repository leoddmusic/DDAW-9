{% extends "base.html" %}
{% block title %}Categorías (MySQL){% endblock %}

{% block content %}
<div class="toolbar">
  <h1>Categorías (MySQL)</h1>
  <a class="btn primary" href="{{ url_for('mysql_categorias_crear') }}">Crear categoría</a>
</div>

{% if categorias %}
<table class="table">
  <thead>
    <tr><th>ID</th><th>Nombre</th><th>Acciones</th></tr>
  </thead>
  <tbody>
  {% for c in categorias %}
    <tr>
      <td>{{ c.id_categoria }}</td>
      <td>{{ c.nombre }}</td>
      <td class="actions">
        <a class="btn" href="{{ url_for('mysql_categorias_editar', cid=c.id_categoria) }}">Editar</a>
        <form action="{{ url_for('mysql_categorias_eliminar', cid=c.id_categoria) }}" method="post" style="display:inline">
          {{ csrf_token() if csrf_token is defined }}
          <button class="btn danger" type="submit" onclick="return confirm('¿Eliminar categoría #{{c.id_categoria}}?')">Eliminar</button>
        </form>
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>

<div class="pagination">
  {% if prev_url %}<a class="btn" href="{{ prev_url }}">&laquo; Anterior</a>{% endif %}
  <span>Página {{ page }} / {{ total_pages }}</span>
  {% if next_url %}<a class="btn" href="{{ next_url }}">Siguiente &raquo;</a>{% endif %}
</div>
{% else %}
  <p>No hay categorías.</p>
{% endif %}
{% endblock %}
